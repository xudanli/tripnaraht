# 世界道路网络数据存放目录

## 📁 目录结构

请将世界道路网络数据按以下结构放置：

```
data/geographic/roads/
├── roads/                  # 世界道路
│   ├── 世界道路.shp
│   ├── 世界道路.shx
│   ├── 世界道路.dbf
│   └── 世界道路.prj      # ⚠️ 必需：坐标系定义
└── railways/              # 世界铁路（可选）
    ├── 世界铁路.shp
    ├── 世界铁路.shx
    ├── 世界铁路.dbf
    └── 世界铁路.prj
```

## 📋 需要哪些文件？

### ✅ 必需文件（用于 PostGIS 导入）

#### 世界道路（必需）

从你的 `世界铁路和道路` 文件夹中，复制以下文件到 `data/geographic/roads/roads/`：

- ✅ `世界道路.shp` - 几何数据（线状道路）
- ✅ `世界道路.shx` - 空间索引
- ✅ `世界道路.dbf` - 属性表（包含道路类型、等级等信息）
- ✅ `世界道路.prj` - 坐标系定义（**非常关键**）

**可选文件**：
- `.shp.xml` - 元数据
- `.sbn/.sbx` - 空间索引（有的话查询更快）

#### 世界铁路（可选）

如果需要铁路数据，从 `世界铁路和道路` 文件夹复制到 `data/geographic/roads/railways/`：

- ✅ `世界铁路.shp`
- ✅ `世界铁路.shx`
- ✅ `世界铁路.dbf`
- ✅ `世界铁路.prj`

### ⚠️ 重要提示

1. **`.prj` 文件必需**：没有这个文件，无法正确识别坐标系
2. **4个文件缺一不可**：`.shp`, `.shx`, `.dbf`, `.prj`
3. **保持文件名一致**：不要重命名文件

## 📋 数据用途

### 道路网络特征计算

1. **roadDensityScore** - 道路密度评分（区域内道路总长度）
2. **nearestRoadDistanceM** - 到最近道路的距离
3. **roadType** - 道路类型（高速公路、国道、省道等）
4. **roadAccessibility** - 道路可达性评分

### 与河网、山脉数据结合

- **道路 + 河网** → 桥梁密度、路线复杂度
- **道路 + 山脉** → 山路难度、海拔变化
- **道路密度 + 河网密度** → 区域开发程度、交通便利性

## 🚀 下一步

1. 将数据文件放置到对应目录
2. 运行导入脚本：`npx ts-node --project tsconfig.backend.json scripts/import-roads-to-postgis.ts`
3. 数据会自动导入到 PostGIS 数据库

## 📝 注意事项

- 确保 `.prj` 文件存在，否则无法正确识别坐标系
- 如果坐标系不是 EPSG:4326（WGS84），导入脚本会自动转换
- 导入前建议检查 `.dbf` 文件中的字段，了解有哪些属性可用（如道路类型、等级、名称等）

